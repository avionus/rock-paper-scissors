<!DOCTYPE html>
<html>
<head>
	<title> Sun, Moon, Planet!</title>
	<link rel="stylesheet" type="text/css" href="rock-paper-scissors.css">
	<link href="https://fonts.googleapis.com/css?family=Chela+One|Nunito" rel="stylesheet">
</head>
<body>
	<div class="lilbox">
		<h1> Sun, Moon, Planet! </h1>
		<h5> <em>Press one of the buttons below to start the game.</em></h5>
		<button id="Sun"> Sun </button>
		<button id="Moon"> Moon </button>
		<button id="Planet"> Planet </button>
		<div id="results"></div>
		<div id="score"></div>
	</div>
	<script type="text/javascript">
		//computer randomization
		function computerPlay(){
			let roll = Math.floor(Math.random() * 10);
			if (roll <= 3) {
				return("Sun");
			} else if (roll == 4 || roll <= 7){
				return("Moon");
			} else if (roll == 8 || roll <= 10){
				return("Planet");
			}
		}
		//human score and computer score
		let hscore = 0;
		let cscore = 0;
		// Sun Moon Planet logic
		function versus(playerSelection, computerSelection){
			if (playerSelection == "Sun" && computerSelection == "Sun") {
				content.textContent = "It's a tie, try something else!";
				content.setAttribute('style', 'color: blue; padding-top: 10px');
				container.appendChild(content);
			}else if (playerSelection == "Sun" && computerSelection == "Moon"){
				content.setAttribute('style', 'color: red; padding-top: 10px');
				content.textContent ="Moon beats Sun, try again!";
				container.appendChild(content);
				cscore++;
			}else if (playerSelection == "Sun" && computerSelection == "Planet"){
				content.setAttribute('style', 'color: green; padding-top: 10px');
				content.textContent = "Sun beats Planet! Keep going!";
				container.appendChild(content);
				hscore++;
			}else if (playerSelection == "Moon" && computerSelection == "Sun"){
				content.setAttribute('style', 'color: green; padding-top: 10px');
				content.textContent = "Moon beats Sun! Keep going!";
				container.appendChild(content);
				hscore++;
			}else if (playerSelection == "Moon" && computerSelection == "Moon"){
				content.setAttribute('style', 'color: blue; padding-top: 10px');
				content.textContent = "It's a tie, try something else!";
				container.appendChild(content);
			}else if (playerSelection == "Moon" && computerSelection == "Planet"){
				content.setAttribute('style', 'color: red; padding-top: 10px');
				content.textContent = "Planet beat Moon, try again!";
				container.appendChild(content);
				cscore++;
			}else if (playerSelection == "Planet" && computerSelection == "Sun"){
				content.setAttribute('style', 'color: red; padding-top: 10px');
				content.textContent = "Sun beats Planet, try again!";
				container.appendChild(content);
				cscore++;
			}else if (playerSelection == "Planet" && computerSelection == "Moon"){
				content.setAttribute('style', 'color: green; padding-top: 10px');
				content.textContent = "Planet beats Moon! Keep going!";
				container.appendChild(content);
				hscore++;
			}else if (playerSelection == "Planet" && computerSelection == "Planet"){
				content.setAttribute('style', 'color: blue; padding-top: 10px');
				content.textContent = "It's a tie, try something else!";
				container.appendChild(content);
			}

			compScore.textContent = "The computer's score is: " + cscore;
			compScore.setAttribute('style', 'padding-top: 5px; padding-bottom: 5px'); 
			score.appendChild(compScore);
			humanScore.textContent = "Your score is: " + hscore;
			humanScore.setAttribute('style', 'padding-bottom: 10px');
			score.appendChild(humanScore);
			// win/lose conditions
			if (hscore == 5){
				alert("You win! Make a new selection to start playing again.");
				score.appendChild(youWin);
				hscore = 0;
				cscore = 0;
			} else if (cscore == 5){
				alert("Computer wins! Make a new selection to start playing again.");
				score.appendChild(compWin);
				cscore = 0;
				hscore = 0;
			}
		}
		// solid variables, obviously
		const Sun = document.querySelector("#Sun");
		const Moon = document.querySelector("#Moon");
		const Planet = document.querySelector("#Planet");
		const container = document.querySelector('#results');
		const content = document.createElement('div');
		const score = document.querySelector('#score');
		const humanScore = document.createElement('div');
		const compScore = document.createElement('div');
		const youWin = document.createElement('div');
		const compWin = document.createElement('div');
		// on clicking the button, play directly against computer as opposed to saving the function in a variable and having that one call be parsed into the function, thus negating the need to refresh the page everytime you want to play
		Sun.addEventListener('click', () => versus("Sun", computerPlay()));
		Moon.addEventListener('click', () => versus("Moon", computerPlay()));
		Planet.addEventListener('click', () => versus("Planet", computerPlay()));
		
	</script>
</body>
</html>